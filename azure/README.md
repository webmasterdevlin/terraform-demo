## Terraform in Microsoft Azure

#### Requirements

- installed [Terraform CLI](https://www.terraform.io/downloads.html)
- installed [Azure CLI](https://docs.microsoft.com/en-us/cli/azure/install-azure-cli)

#### To start

create Terraform file main.tf then add a [azure provider](https://www.terraform.io/docs/providers/azurerm/index.html).

Login to Azure using azure cli

```sh
$ az login
```

For Terraform 13 compatibility

```sh
$ terraform 0.13upgrade .
```

The terraform init command is used to initialize a working directory containing Terraform configuration files.

```sh
$ terraform init
```

The terraform plan command is used to create an execution plan.

```sh
$ terraform plan
```

The terraform apply command is used to apply the changes required to reach the desired state of the configuration, or the pre-determined set of actions generated by a terraform plan execution plan.

Check your portal.azure.com after running this.

```sh
$ terraform apply
```

- Create SSH Key

```sh
ssh-keygen -t rsa -b 2048 -f mykey
```

- Use SSH Client

```sh
ssh azureuser@myvm.westus.cloudapp.azure.com
```

The terraform destroy command is used to destroy the Terraform-managed infrastructure.

```sh
$ terraform destroy
```
